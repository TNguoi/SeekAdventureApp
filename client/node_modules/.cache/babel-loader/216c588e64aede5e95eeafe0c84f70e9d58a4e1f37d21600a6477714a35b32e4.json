{"ast":null,"code":"import'braid-design-system/reset';import wireframe from'braid-design-system/themes/wireframe';import{v4 as uuidv4}from'uuid';import{BraidProvider,Text,Inline,Button,Stack,TextField}from'braid-design-system';import'./App.css';import{io}from'socket.io-client';import{useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let username='';let server_url='';if(process.env.REACT_APP_SERVER_URL===undefined){server_url='localhost:8080';}else{server_url=process.env.REACT_APP_SERVER_URL;}console.log('url is :'+server_url);const socket=io(server_url,{withCredentials:false,extraHeaders:{'sa-client':'client'},autoConnect:false});const appendMessage=(author,text)=>{document.getElementById('message').innerHTML+=\"<br>\".concat(author,\": \").concat(text);};const setUsername=()=>{username=document.getElementById('usernameInput').value;appendMessage('System',\"Your name is now \".concat(username));};socket.on('connect',()=>{appendMessage('System','You are now connected to the server.');});socket.on('disconnect',()=>{appendMessage('System','You are now disconnected from the server.');});socket.on('server-message',(author,message)=>{appendMessage(author,message);});function App(){let messageInput=useRef(null);let roomIdInput=useRef(null);let roomId='';const generateRoomId=()=>{roomId=uuidv4();roomIdInput.current.value=roomId;};const createAndJoinRoom=()=>{generateRoomId();socket.connect();socket.emit('create-room',roomId);appendMessage('System',\"Your room id is \".concat(roomId,\", you are now joined in this room.\"));};const leaveRoom=()=>{roomId='';socket.disconnect();};const joinRoom=()=>{roomId=roomIdInput.current.value;socket.connect();socket.emit('join-room',roomId);appendMessage('System',\"Your room id is \".concat(roomId,\", you are now joined in this room.\"));};const sendMessage=()=>{if(username===''){appendMessage('System','Please set your username first');return;}if(socket.disconnected){appendMessage('System','Please join or create a room first');return;}const message=messageInput.current.value;console.log(message);const author=username;if(message===''){return;}messageInput.current.value='';socket.emit('message',author,message);};console.profile();return/*#__PURE__*/_jsx(BraidProvider,{theme:wireframe,className:\"App\",children:/*#__PURE__*/_jsxs(Stack,{space:\"large\",children:[/*#__PURE__*/_jsxs(Inline,{space:\"small\",collapseBelow:\"desktop\",children:[/*#__PURE__*/_jsx(Button,{variant:\"solid\",onClick:createAndJoinRoom,children:\"Create Room\"}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:leaveRoom,children:\"Leave Room\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",onClick:setUsername,children:\"Set User Name\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",onClick:joinRoom,children:\"Join Room\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",onClick:sendMessage,children:\"Send\"})]}),/*#__PURE__*/_jsx(TextField,{ref:roomIdInput,label:\"Room ID\"// onChange={setState('textfield')}\n// value={getState('textfield')}\n,tone:\"neutral\"}),/*#__PURE__*/_jsx(TextField,{id:\"usernameInput\",label:\"Username\"// onChange={setState('textfield')}\n// value={getState('textfield')}\n,tone:\"neutral\"}),/*#__PURE__*/_jsx(TextField,{ref:messageInput,label:\"Chat here\"// onChange={setState('textfield')}\n// value={getState('textfield')}\n,tone:\"neutral\"}),/*#__PURE__*/_jsx(Text,{id:\"message\",label:\"Messages\",children:\"Messages are shown here:\"})]})});}export default App;","map":{"version":3,"names":["wireframe","v4","uuidv4","BraidProvider","Text","Inline","Button","Stack","TextField","io","useRef","jsx","_jsx","jsxs","_jsxs","username","server_url","process","env","REACT_APP_SERVER_URL","undefined","console","log","socket","withCredentials","extraHeaders","autoConnect","appendMessage","author","text","document","getElementById","innerHTML","concat","setUsername","value","on","message","App","messageInput","roomIdInput","roomId","generateRoomId","current","createAndJoinRoom","connect","emit","leaveRoom","disconnect","joinRoom","sendMessage","disconnected","profile","theme","className","children","space","collapseBelow","variant","onClick","ref","label","tone","id"],"sources":["/Users/tnguoi/Desktop/SeekAdventureApp/client/src/App.js"],"sourcesContent":["import 'braid-design-system/reset';\nimport wireframe from 'braid-design-system/themes/wireframe';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  BraidProvider,\n  Text,\n  Inline,\n  Button,\n  Stack,\n  TextField,\n} from 'braid-design-system';\nimport './App.css';\nimport { io } from 'socket.io-client';\nimport { useRef } from 'react';\n\nlet username = '';\nlet server_url = '';\nif (process.env.REACT_APP_SERVER_URL === undefined) {\n  server_url = 'localhost:8080';\n} else {\n  server_url = process.env.REACT_APP_SERVER_URL;\n}\nconsole.log('url is :' + server_url);\nconst socket = io(server_url, {\n  withCredentials: false,\n  extraHeaders: {\n    'sa-client': 'client',\n  },\n  autoConnect: false,\n});\n\nconst appendMessage = (author, text) => {\n  document.getElementById('message').innerHTML += `<br>${author}: ${text}`;\n};\n\nconst setUsername = () => {\n  username = document.getElementById('usernameInput').value;\n  appendMessage('System', `Your name is now ${username}`);\n};\n\nsocket.on('connect', () => {\n  appendMessage('System', 'You are now connected to the server.');\n});\n\nsocket.on('disconnect', () => {\n  appendMessage('System', 'You are now disconnected from the server.');\n});\n\nsocket.on('server-message', (author, message) => {\n  appendMessage(author, message);\n});\n\nfunction App() {\n  let messageInput = useRef(null);\n  let roomIdInput = useRef(null);\n  let roomId = '';\n\n  const generateRoomId = () => {\n    roomId = uuidv4();\n    roomIdInput.current.value = roomId;\n  };\n  const createAndJoinRoom = () => {\n    generateRoomId();\n    socket.connect();\n    socket.emit('create-room', roomId);\n\n    appendMessage(\n      'System',\n      `Your room id is ${roomId}, you are now joined in this room.`\n    );\n  };\n\n  const leaveRoom = () => {\n    roomId = '';\n    socket.disconnect();\n  };\n\n  const joinRoom = () => {\n    roomId = roomIdInput.current.value;\n    socket.connect();\n    socket.emit('join-room', roomId);\n    appendMessage(\n      'System',\n      `Your room id is ${roomId}, you are now joined in this room.`\n    );\n  };\n\n  const sendMessage = () => {\n    if (username === '') {\n      appendMessage('System', 'Please set your username first');\n      return;\n    }\n\n    if (socket.disconnected) {\n      appendMessage('System', 'Please join or create a room first');\n      return;\n    }\n\n    const message = messageInput.current.value;\n    console.log(message);\n    const author = username;\n\n    if (message === '') {\n      return;\n    }\n\n    messageInput.current.value = '';\n    socket.emit('message', author, message);\n  };\n\n  console.profile();\n\n  return (\n    <BraidProvider theme={wireframe} className='App'>\n      <Stack space='large'>\n        <Inline space='small' collapseBelow='desktop'>\n          <Button variant='solid' onClick={createAndJoinRoom}>\n            Create Room\n          </Button>\n          <Button variant='ghost' onClick={leaveRoom}>\n            Leave Room\n          </Button>\n          <Button variant='solid' onClick={setUsername}>\n            Set User Name\n          </Button>\n          <Button variant='solid' onClick={joinRoom}>\n            Join Room\n          </Button>\n          <Button variant='solid' onClick={sendMessage}>\n            Send\n          </Button>\n        </Inline>\n        <TextField\n          ref={roomIdInput}\n          label='Room ID'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <TextField\n          id='usernameInput'\n          label='Username'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <TextField\n          ref={messageInput}\n          label='Chat here'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <Text id='message' label='Messages'>\n          Messages are shown here:\n        </Text>\n      </Stack>\n    </BraidProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}