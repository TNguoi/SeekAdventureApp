{"ast":null,"code":"var _jsxFileName = \"/Users/tnguoi/Desktop/SeekAdventureApp/client/src/App.js\",\n  _s = $RefreshSig$();\nimport 'braid-design-system/reset';\nimport wireframe from 'braid-design-system/themes/wireframe';\nimport { v4 as uuidv4 } from 'uuid';\nimport { BraidProvider, Text, Inline, Button, Stack, TextField } from 'braid-design-system';\nimport './App.css';\nimport { io } from 'socket.io-client';\nimport { useRef } from 'react';\nimport { Game } from './Game';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet username = '';\nlet server_url = '';\nif (process.env.REACT_APP_SERVER_URL === undefined) {\n  server_url = 'localhost:8080';\n} else {\n  server_url = process.env.REACT_APP_SERVER_URL;\n}\nconsole.log('url is :' + server_url);\nconst socket = io(server_url, {\n  withCredentials: false,\n  extraHeaders: {\n    'sa-client': 'client'\n  },\n  autoConnect: false\n});\nconst appendMessage = (author, text) => {\n  document.getElementById('message').innerHTML += `<br>${author}: ${text}`;\n};\nconst setUsername = () => {\n  username = document.getElementById('usernameInput').value;\n  appendMessage('System', `Your name is now ${username}`);\n};\nsocket.on('connect', () => {\n  appendMessage('System', 'You are now connected to the server.');\n});\nsocket.on('disconnect', () => {\n  appendMessage('System', 'You are now disconnected from the server.');\n});\nsocket.on('server-message', (author, message) => {\n  appendMessage(author, message);\n});\nsocket.on('sync-game', data => {\n  appendMessage('Game', data);\n});\nfunction App() {\n  _s();\n  let messageInput = useRef(null);\n  let roomIdInput = useRef(null);\n  let gameWindow = useRef(null);\n  let roomId = '';\n  const generateRoomId = () => {\n    roomId = uuidv4();\n    roomIdInput.current.value = roomId;\n  };\n  const createAndJoinRoom = () => {\n    generateRoomId();\n    socket.connect();\n    socket.emit('create-room', roomId);\n    appendMessage('System', `Your room id is ${roomId}, you are now joined in this room.`);\n  };\n  const leaveRoom = () => {\n    roomId = '';\n    socket.disconnect();\n  };\n  const joinRoom = () => {\n    roomId = roomIdInput.current.value;\n    socket.connect();\n    socket.emit('join-room', roomId);\n    appendMessage('System', `Your room id is ${roomId}, you are now joined in this room.`);\n  };\n  const sendMessage = () => {\n    if (username === '') {\n      appendMessage('System', 'Please set your username first');\n      return;\n    }\n    if (socket.disconnected) {\n      appendMessage('System', 'Please join or create a room first');\n      return;\n    }\n    const message = messageInput.current.value;\n    console.log(message);\n    const author = username;\n    if (message === '') {\n      return;\n    }\n    messageInput.current.value = '';\n    socket.emit('message', author, message);\n  };\n  console.profile();\n  return /*#__PURE__*/_jsxDEV(BraidProvider, {\n    theme: wireframe,\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(Stack, {\n      space: \"large\",\n      children: [/*#__PURE__*/_jsxDEV(Inline, {\n        space: \"small\",\n        collapseBelow: \"desktop\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"solid\",\n          onClick: createAndJoinRoom,\n          children: \"Create Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          onClick: leaveRoom,\n          children: \"Leave Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"solid\",\n          onClick: setUsername,\n          children: \"Set User Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"solid\",\n          onClick: joinRoom,\n          children: \"Join Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"solid\",\n          onClick: sendMessage,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        ref: roomIdInput,\n        label: \"Room ID\"\n        // onChange={setState('textfield')}\n        // value={getState('textfield')}\n        ,\n        tone: \"neutral\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"usernameInput\",\n        label: \"Username\"\n        // onChange={setState('textfield')}\n        // value={getState('textfield')}\n        ,\n        tone: \"neutral\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        ref: messageInput,\n        label: \"Chat here\"\n        // onChange={setState('textfield')}\n        // value={getState('textfield')}\n        ,\n        tone: \"neutral\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: gameWindow,\n        children: /*#__PURE__*/_jsxDEV(Game, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        id: \"message\",\n        label: \"Messages\",\n        children: \"Messages are shown here:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"AA8XpXm3yKoktE7GxkJBQUOA9+c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["wireframe","v4","uuidv4","BraidProvider","Text","Inline","Button","Stack","TextField","io","useRef","Game","jsxDEV","_jsxDEV","username","server_url","process","env","REACT_APP_SERVER_URL","undefined","console","log","socket","withCredentials","extraHeaders","autoConnect","appendMessage","author","text","document","getElementById","innerHTML","setUsername","value","on","message","data","App","_s","messageInput","roomIdInput","gameWindow","roomId","generateRoomId","current","createAndJoinRoom","connect","emit","leaveRoom","disconnect","joinRoom","sendMessage","disconnected","profile","theme","className","children","space","collapseBelow","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","label","tone","id","_c","$RefreshReg$"],"sources":["/Users/tnguoi/Desktop/SeekAdventureApp/client/src/App.js"],"sourcesContent":["import 'braid-design-system/reset';\nimport wireframe from 'braid-design-system/themes/wireframe';\nimport { v4 as uuidv4 } from 'uuid';\nimport {\n  BraidProvider,\n  Text,\n  Inline,\n  Button,\n  Stack,\n  TextField,\n} from 'braid-design-system';\nimport './App.css';\nimport { io } from 'socket.io-client';\nimport { useRef } from 'react';\nimport { Game } from './Game';\n\nlet username = '';\nlet server_url = '';\nif (process.env.REACT_APP_SERVER_URL === undefined) {\n  server_url = 'localhost:8080';\n} else {\n  server_url = process.env.REACT_APP_SERVER_URL;\n}\nconsole.log('url is :' + server_url);\nconst socket = io(server_url, {\n  withCredentials: false,\n  extraHeaders: {\n    'sa-client': 'client',\n  },\n  autoConnect: false,\n});\n\nconst appendMessage = (author, text) => {\n  document.getElementById('message').innerHTML += `<br>${author}: ${text}`;\n};\n\nconst setUsername = () => {\n  username = document.getElementById('usernameInput').value;\n  appendMessage('System', `Your name is now ${username}`);\n};\n\nsocket.on('connect', () => {\n  appendMessage('System', 'You are now connected to the server.');\n});\n\nsocket.on('disconnect', () => {\n  appendMessage('System', 'You are now disconnected from the server.');\n});\n\nsocket.on('server-message', (author, message) => {\n  appendMessage(author, message);\n});\n\nsocket.on('sync-game', (data) => {\n  appendMessage('Game', data);\n});\n\nfunction App() {\n  let messageInput = useRef(null);\n  let roomIdInput = useRef(null);\n  let gameWindow = useRef(null);\n  let roomId = '';\n\n  const generateRoomId = () => {\n    roomId = uuidv4();\n    roomIdInput.current.value = roomId;\n  };\n  const createAndJoinRoom = () => {\n    generateRoomId();\n    socket.connect();\n    socket.emit('create-room', roomId);\n\n    appendMessage(\n      'System',\n      `Your room id is ${roomId}, you are now joined in this room.`\n    );\n  };\n\n  const leaveRoom = () => {\n    roomId = '';\n    socket.disconnect();\n  };\n\n  const joinRoom = () => {\n    roomId = roomIdInput.current.value;\n    socket.connect();\n    socket.emit('join-room', roomId);\n    appendMessage(\n      'System',\n      `Your room id is ${roomId}, you are now joined in this room.`\n    );\n  };\n\n  const sendMessage = () => {\n    if (username === '') {\n      appendMessage('System', 'Please set your username first');\n      return;\n    }\n\n    if (socket.disconnected) {\n      appendMessage('System', 'Please join or create a room first');\n      return;\n    }\n\n    const message = messageInput.current.value;\n    console.log(message);\n    const author = username;\n\n    if (message === '') {\n      return;\n    }\n\n    messageInput.current.value = '';\n    socket.emit('message', author, message);\n  };\n\n  console.profile();\n\n  return (\n    <BraidProvider theme={wireframe} className='App'>\n      <Stack space='large'>\n        <Inline space='small' collapseBelow='desktop'>\n          <Button variant='solid' onClick={createAndJoinRoom}>\n            Create Room\n          </Button>\n          <Button variant='ghost' onClick={leaveRoom}>\n            Leave Room\n          </Button>\n          <Button variant='solid' onClick={setUsername}>\n            Set User Name\n          </Button>\n          <Button variant='solid' onClick={joinRoom}>\n            Join Room\n          </Button>\n          <Button variant='solid' onClick={sendMessage}>\n            Send\n          </Button>\n        </Inline>\n        <TextField\n          ref={roomIdInput}\n          label='Room ID'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <TextField\n          id='usernameInput'\n          label='Username'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <TextField\n          ref={messageInput}\n          label='Chat here'\n          // onChange={setState('textfield')}\n          // value={getState('textfield')}\n          tone='neutral'\n        />\n        <div ref={gameWindow}>\n          <Game></Game>\n        </div>\n        <Text id='message' label='Messages'>\n          Messages are shown here:\n        </Text>\n      </Stack>\n    </BraidProvider>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,2BAA2B;AAClC,OAAOA,SAAS,MAAM,sCAAsC;AAC5D,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,SACEC,aAAa,EACbC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,KAAK,EACLC,SAAS,QACJ,qBAAqB;AAC5B,OAAO,WAAW;AAClB,SAASC,EAAE,QAAQ,kBAAkB;AACrC,SAASC,MAAM,QAAQ,OAAO;AAC9B,SAASC,IAAI,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,IAAIC,QAAQ,GAAG,EAAE;AACjB,IAAIC,UAAU,GAAG,EAAE;AACnB,IAAIC,OAAO,CAACC,GAAG,CAACC,oBAAoB,KAAKC,SAAS,EAAE;EAClDJ,UAAU,GAAG,gBAAgB;AAC/B,CAAC,MAAM;EACLA,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAC/C;AACAE,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGN,UAAU,CAAC;AACpC,MAAMO,MAAM,GAAGb,EAAE,CAACM,UAAU,EAAE;EAC5BQ,eAAe,EAAE,KAAK;EACtBC,YAAY,EAAE;IACZ,WAAW,EAAE;EACf,CAAC;EACDC,WAAW,EAAE;AACf,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGA,CAACC,MAAM,EAAEC,IAAI,KAAK;EACtCC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,SAAS,IAAK,OAAMJ,MAAO,KAAIC,IAAK,EAAC;AAC1E,CAAC;AAED,MAAMI,WAAW,GAAGA,CAAA,KAAM;EACxBlB,QAAQ,GAAGe,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC,CAACG,KAAK;EACzDP,aAAa,CAAC,QAAQ,EAAG,oBAAmBZ,QAAS,EAAC,CAAC;AACzD,CAAC;AAEDQ,MAAM,CAACY,EAAE,CAAC,SAAS,EAAE,MAAM;EACzBR,aAAa,CAAC,QAAQ,EAAE,sCAAsC,CAAC;AACjE,CAAC,CAAC;AAEFJ,MAAM,CAACY,EAAE,CAAC,YAAY,EAAE,MAAM;EAC5BR,aAAa,CAAC,QAAQ,EAAE,2CAA2C,CAAC;AACtE,CAAC,CAAC;AAEFJ,MAAM,CAACY,EAAE,CAAC,gBAAgB,EAAE,CAACP,MAAM,EAAEQ,OAAO,KAAK;EAC/CT,aAAa,CAACC,MAAM,EAAEQ,OAAO,CAAC;AAChC,CAAC,CAAC;AAEFb,MAAM,CAACY,EAAE,CAAC,WAAW,EAAGE,IAAI,IAAK;EAC/BV,aAAa,CAAC,MAAM,EAAEU,IAAI,CAAC;AAC7B,CAAC,CAAC;AAEF,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,IAAIC,YAAY,GAAG7B,MAAM,CAAC,IAAI,CAAC;EAC/B,IAAI8B,WAAW,GAAG9B,MAAM,CAAC,IAAI,CAAC;EAC9B,IAAI+B,UAAU,GAAG/B,MAAM,CAAC,IAAI,CAAC;EAC7B,IAAIgC,MAAM,GAAG,EAAE;EAEf,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BD,MAAM,GAAGxC,MAAM,CAAC,CAAC;IACjBsC,WAAW,CAACI,OAAO,CAACX,KAAK,GAAGS,MAAM;EACpC,CAAC;EACD,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;IAC9BF,cAAc,CAAC,CAAC;IAChBrB,MAAM,CAACwB,OAAO,CAAC,CAAC;IAChBxB,MAAM,CAACyB,IAAI,CAAC,aAAa,EAAEL,MAAM,CAAC;IAElChB,aAAa,CACX,QAAQ,EACP,mBAAkBgB,MAAO,oCAC5B,CAAC;EACH,CAAC;EAED,MAAMM,SAAS,GAAGA,CAAA,KAAM;IACtBN,MAAM,GAAG,EAAE;IACXpB,MAAM,CAAC2B,UAAU,CAAC,CAAC;EACrB,CAAC;EAED,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACrBR,MAAM,GAAGF,WAAW,CAACI,OAAO,CAACX,KAAK;IAClCX,MAAM,CAACwB,OAAO,CAAC,CAAC;IAChBxB,MAAM,CAACyB,IAAI,CAAC,WAAW,EAAEL,MAAM,CAAC;IAChChB,aAAa,CACX,QAAQ,EACP,mBAAkBgB,MAAO,oCAC5B,CAAC;EACH,CAAC;EAED,MAAMS,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIrC,QAAQ,KAAK,EAAE,EAAE;MACnBY,aAAa,CAAC,QAAQ,EAAE,gCAAgC,CAAC;MACzD;IACF;IAEA,IAAIJ,MAAM,CAAC8B,YAAY,EAAE;MACvB1B,aAAa,CAAC,QAAQ,EAAE,oCAAoC,CAAC;MAC7D;IACF;IAEA,MAAMS,OAAO,GAAGI,YAAY,CAACK,OAAO,CAACX,KAAK;IAC1Cb,OAAO,CAACC,GAAG,CAACc,OAAO,CAAC;IACpB,MAAMR,MAAM,GAAGb,QAAQ;IAEvB,IAAIqB,OAAO,KAAK,EAAE,EAAE;MAClB;IACF;IAEAI,YAAY,CAACK,OAAO,CAACX,KAAK,GAAG,EAAE;IAC/BX,MAAM,CAACyB,IAAI,CAAC,SAAS,EAAEpB,MAAM,EAAEQ,OAAO,CAAC;EACzC,CAAC;EAEDf,OAAO,CAACiC,OAAO,CAAC,CAAC;EAEjB,oBACExC,OAAA,CAACV,aAAa;IAACmD,KAAK,EAAEtD,SAAU;IAACuD,SAAS,EAAC,KAAK;IAAAC,QAAA,eAC9C3C,OAAA,CAACN,KAAK;MAACkD,KAAK,EAAC,OAAO;MAAAD,QAAA,gBAClB3C,OAAA,CAACR,MAAM;QAACoD,KAAK,EAAC,OAAO;QAACC,aAAa,EAAC,SAAS;QAAAF,QAAA,gBAC3C3C,OAAA,CAACP,MAAM;UAACqD,OAAO,EAAC,OAAO;UAACC,OAAO,EAAEf,iBAAkB;UAAAW,QAAA,EAAC;QAEpD;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnD,OAAA,CAACP,MAAM;UAACqD,OAAO,EAAC,OAAO;UAACC,OAAO,EAAEZ,SAAU;UAAAQ,QAAA,EAAC;QAE5C;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnD,OAAA,CAACP,MAAM;UAACqD,OAAO,EAAC,OAAO;UAACC,OAAO,EAAE5B,WAAY;UAAAwB,QAAA,EAAC;QAE9C;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnD,OAAA,CAACP,MAAM;UAACqD,OAAO,EAAC,OAAO;UAACC,OAAO,EAAEV,QAAS;UAAAM,QAAA,EAAC;QAE3C;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnD,OAAA,CAACP,MAAM;UAACqD,OAAO,EAAC,OAAO;UAACC,OAAO,EAAET,WAAY;UAAAK,QAAA,EAAC;QAE9C;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACTnD,OAAA,CAACL,SAAS;QACRyD,GAAG,EAAEzB,WAAY;QACjB0B,KAAK,EAAC;QACN;QACA;QAAA;QACAC,IAAI,EAAC;MAAS;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFnD,OAAA,CAACL,SAAS;QACR4D,EAAE,EAAC,eAAe;QAClBF,KAAK,EAAC;QACN;QACA;QAAA;QACAC,IAAI,EAAC;MAAS;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFnD,OAAA,CAACL,SAAS;QACRyD,GAAG,EAAE1B,YAAa;QAClB2B,KAAK,EAAC;QACN;QACA;QAAA;QACAC,IAAI,EAAC;MAAS;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFnD,OAAA;QAAKoD,GAAG,EAAExB,UAAW;QAAAe,QAAA,eACnB3C,OAAA,CAACF,IAAI;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACNnD,OAAA,CAACT,IAAI;QAACgE,EAAE,EAAC,SAAS;QAACF,KAAK,EAAC,UAAU;QAAAV,QAAA,EAAC;MAEpC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAEpB;AAAC1B,EAAA,CA/GQD,GAAG;AAAAgC,EAAA,GAAHhC,GAAG;AAiHZ,eAAeA,GAAG;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}